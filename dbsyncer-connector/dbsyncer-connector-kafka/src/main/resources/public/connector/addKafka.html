<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="zh-CN">

<div th:fragment="content">
    <div class="grid grid-cols-2">
        <div class="form-item">
            <label class="form-label">
                URL<i class="fa fa-question-circle" title="多个使用英文逗号，例如：192.168.1.100:9092,192.168.1.200:9092"></i>
                <strong class="text-primary">*</strong>
            </label>
            <div class="form-control-area">
                <input class="form-control" name="url" type="text" maxlength="1024" required placeholder="127.0.0.1:9092" th:value="${connector?.config?.url}?:'127.0.0.1:9092'"/>
            </div>
        </div>
    </div>

    <div class="grid mt-4">
        <div class="form-item">
            <label class="form-label">连接参数<strong class="text-primary">*</strong></label>
            <div class="form-control-area">
                <textarea name="properties" class="form-control" maxlength="1024" rows="4" required>
[[${connector?.config?.propertiesText ?:
'connections.max.idle.ms=60000
request.timeout.ms=30000
retry.backoff.ms=1000
metadata.max.age.ms=300000'}]]</textarea>
            </div>
        </div>
    </div>

    <div class="grid mt-4">
        <div class="form-item">
            <label class="form-label">消费者参数<strong class="text-primary">*</strong></label>
            <div class="form-control-area">
                <textarea name="consumerProperties" class="form-control" maxlength="1024" rows="8" required>
[[${connector?.config?.extInfo?.consumerProperties ?:
'key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
value.deserializer=org.dbsyncer.connector.kafka.serialization.JsonToMapDeserializer
auto.offset.reset=latest
enable.auto.commit=false
auto.commit.interval.ms=5000
max.poll.records=500
max.poll.interval.ms=300000
max.partition.fetch.bytes=1048576
fetch.min.bytes=1
fetch.max.wait.ms=500
heartbeat.interval.ms=3000
session.timeout.ms=10000'}]]</textarea>
            </div>
        </div>
    </div>

    <div class="grid mt-4">
        <div class="form-item">
            <label class="form-label">生产者参数<strong class="text-primary">*</strong></label>
            <div class="form-control-area">
                <textarea name="producerProperties" class="form-control" maxlength="1024" rows="8" required>
[[${connector?.config?.extInfo?.producerProperties ?:
'key.serializer=org.apache.kafka.common.serialization.StringSerializer
value.serializer=org.dbsyncer.connector.kafka.serialization.MapToJsonSerializer
acks=1
batch.size=32768
buffer.memory=33554432
enable.idempotence=false
linger.ms=10
retries=1
max.block.ms=60000
max.request.size=1048576'}]]</textarea>
            </div>
        </div>
    </div>
</div>