# 待解决的问题或缺陷

## 优先级高的问题

- 性能优化：解决缓存定时拉取在大规模应用中的锁竞争和线程切换开销问题。
- 稳定性优化：增加增量同步异常的中断处理机制，避免缓存撑爆风险
- 过滤条件简化：过滤条件直接输入表达式
- 功能新增：UI 增加同步阶段的显式，以及全量同步的完成状态
- 功能新增：提供每一个数据表的状态查询
- getMetaInfo 满天飞，实际上是表信息。MetaInfo 和 Table 大体相同的区别是啥？有必要存在两个吗？
- bug：失败数对应的日志缺失（全量）
- 重大隐性bug: 系统配置丢失问题：在数据库里会形成多份“系统配置”，应该为一份，原因原有配置没有加载完成，但请求了 login 接口，导致系统配置重建。
- 自动创建缺失的目标表。
- 提升统计计数的性能。
- 功能变更：对于 mssql 用 CT(change tracing) 替代 cdc，以降低对 sql server 端的压力，同时消除表结构变化这种自身缺陷影响同步数据正确性问题.


## 问题池

- mssql sp_rename 检查时通过每个 DML 的的字段信息与数据库真实字段信息比对得到的，比较消耗 ID。 
- 存在 ddl 被 jsqlparser 解析多次的情况（一次表过滤的名称解析，一次内容解析）
- 增量-定时 重构
  - 增量定时-移除 AbstractDatabaseConnector.reader, 与 Listener 中重复定义, 但 Reader 语义更好。
- AbstractDatabaseConnector.filterColumn 这个应该在编辑时处理，而不是在运行时处理
- 队列溢出问题：删除队列，使用 kafka 作为中间数据源
- 优化：监控界面增加任务结束的记录


