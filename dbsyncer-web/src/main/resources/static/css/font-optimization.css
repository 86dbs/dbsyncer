/**
 * FontAwesome 字体加载优化
 * 解决 Chrome "Slow network detected" 警告
 */

/* 覆盖 FontAwesome 字体定义，添加 font-display: swap 策略 */
@font-face {
  font-family: 'FontAwesome';
  src: url('../plugins/fonts/fontawesome-webfont.eot?v=4.7.0');
  src: url('../plugins/fonts/fontawesome-webfont.eot?#iefix&v=4.7.0') format('embedded-opentype'),
       url('../plugins/fonts/fontawesome-webfont.woff2?v=4.7.0') format('woff2'),
       url('../plugins/fonts/fontawesome-webfont.woff?v=4.7.0') format('woff'),
       url('../plugins/fonts/fontawesome-webfont.ttf?v=4.7.0') format('truetype'),
       url('../plugins/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular') format('svg');
  font-weight: normal;
  font-style: normal;
  /* font-display: swap 策略：立即使用备用字体，字体加载完成后再替换 */
  font-display: swap;
}

/**
 * font-display 说明:
 * - auto: 浏览器默认行为（通常是 block，3秒白屏）
 * - block: 短暂阻塞（最多3秒），然后使用备用字体
 * - swap: 立即使用备用字体，字体加载完成后替换（推荐）
 * - fallback: 极短暂阻塞（约100ms），如果字体3秒内未加载完成则放弃
 * - optional: 类似fallback，但浏览器可根据网络情况决定是否使用自定义字体
 */

/* 备用图标样式：字体加载前的占位符优化 */
.fa::before {
  /* 防止图标闪烁 */
  display: inline-block;
  min-width: 1em;
  text-align: center;
}

/* 关键图标预渲染优化（常用图标） */
.fa-spinner::before,
.fa-refresh::before,
.fa-save::before,
.fa-reply::before,
.fa-pencil::before,
.fa-trash::before,
.fa-search::before,
.fa-plus::before,
.fa-minus::before,
.fa-times::before,
.fa-check::before,
.fa-angle-down::before,
.fa-angle-up::before,
.fa-user::before,
.fa-power-off::before {
  /* 确保这些常用图标优先渲染 */
  will-change: auto;
}